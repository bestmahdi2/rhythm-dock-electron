<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="Content-Security-Policy"
          content="default-src 'self'; script-src 'self'; img-src 'self' data:; style-src 'self' 'unsafe-inline'; media-src 'self' data:; connect-src 'self' https://lrclib.net;">
    <link rel="stylesheet" href="styles.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Rhythm Dock</title>
</head>
<body>
<div id="container" class="container">
    <div class="header-bar">
        <div id="filename" class="filename">No song loaded</div>
        <div class="window-controls">
            <div class="dropdown">
                <button class="dropdown-toggle" id="play-dropdown-btn" title="Playback Options">
                    <svg viewBox="0 0 24 24">
                        <path d="M7 10l5 5 5-5z"></path>
                    </svg>
                </button>
            </div>

            <div class="dropdown">
                <button class="dropdown-toggle" id="file-dropdown-btn" title="File Options">
                    <svg viewBox="0 0 24 24">
                        <path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"></path>
                    </svg>
                </button>
            </div>

            <div class="dropdown">
                <button class="dropdown-toggle" id="lyrics-dropdown-btn" title="Lyrics Options">
                    <svg viewBox="0 0 24 24">
                        <path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path>
                    </svg>
                </button>
            </div>

            <div class="dropdown">
                <button class="dropdown-toggle" id="app-dropdown-btn" title="App Settings">
                    <svg viewBox="0 0 24 24">
                        <path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path>
                    </svg>
                </button>
            </div>

            <button id="pin-btn" title="Pin Window">
                <svg viewBox="0 0 24 24">
                    <path d="M16 12V4h1V2H7v2h1v8l-2 2v2h5.2v6h1.6v-6H18v-2l-2-2z"></path>
                </svg>
            </button>

            <button id="minimize-btn" title="Minimize">
                <svg viewBox="0 0 24 24">
                    <path d="M20 14H4v-4h16"></path>
                </svg>
            </button>

            <button id="close-btn" title="Close">
                <svg viewBox="0 0 24 24">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>
                </svg>
            </button>

            <button id="like-btn" title="Add to Favorites" style="display: none;">
                <svg viewBox="0 0 24 24">
                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path>
                </svg>
            </button>
        </div>
    </div>

    <div class="content-wrapper">
        <img id="album-art" src="../assets/images/placeholder.png" alt="Album Art"/>
        <div class="main-controls">
            <div class="track-info">
                <div id="title">No song loaded</div>
                <div id="artist">Open a file or folder</div>
            </div>
            <div class="sliders">
                <input id="progress-bar" type="range" min="0" value="0" step="0.1"/>
                <div class="time-display">
                    <span id="time-current">0:00</span>
                    <span id="time-remaining">-0:00</span>
                </div>
            </div>
        </div>

        <div class="side-controls">
            <div class="playback-buttons">
                <button id="prev-btn" title="Previous">
                    <svg viewBox="0 0 24 24">
                        <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"></path>
                    </svg>
                </button>
                <button id="play-pause-btn" title="Play/Pause">
                    <svg id="play-icon" viewBox="0 0 24 24">
                        <path d="M8 5v14l11-7z"></path>
                    </svg>
                    <svg id="pause-icon" viewBox="0 0 24 24" style="display: none;">
                        <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>
                    </svg>
                </button>
                <button id="next-btn" title="Next">
                    <svg viewBox="0 0 24 24">
                        <path d="M16 6h2v12h-2zm-4.5 6l-8.5 6V6z"></path>
                    </svg>
                </button>
            </div>
            <div class="volume-container">
                <button id="volume-btn" title="Mute">
                    <svg id="volume-icon" viewBox="0 0 24 24">
                        <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path>
                    </svg>
                    <svg id="volume-mute-icon" style="display: none;" viewBox="0 0 24 24">
                        <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"></path>
                    </svg>
                </button>
                <input id="volume-slider" type="range" min="0" max="1" value="1" step="0.05"/>
            </div>
            <div class="utility-buttons">
                <button id="open-file-btn" title="Open File(s)">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"></path>
                    </svg>
                </button>
                <button id="open-folder-btn" class="control-btn" title="Open Folder (O)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                         viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                              d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <div class="lyrics-section">
        <div id="lyrics-container" class="lyrics-container"></div>
        <div class="lyrics-controls">
            <button id="lyrics-offset-minus-btn" title="Decrease Lyrics Delay (-0.1s)">
                <svg viewBox="0 0 24 24">
                    <path d="M19 13H5v-2h14v2z"></path>
                </svg>
            </button>
            <span id="lyrics-offset-display">0.0s</span>
            <button id="lyrics-offset-plus-btn" title="Increase Lyrics Delay (+0.1s)">
                <svg viewBox="0 0 24 24">
                    <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path>
                </svg>
            </button>
        </div>
    </div>

    <div id="settings-drawer" class="settings-drawer">
        <div class="settings-content">
            <div class="setting-item">
                <label for="transparency-slider">Opacity</label>
                <input type="range" id="transparency-slider" min="0.3" max="1.0" step="0.05" value="0.85">
                <span id="transparency-value">85%</span>
            </div>

            <div class="setting-item">
                <label for="volume-boost-toggle">Allow Volume > 100%</label>
                <input type="checkbox" id="volume-boost-toggle">
            </div>

            <div class="setting-item" id="app-version-container" style="display: none;">
                <label>Version</label>
                <span id="app-version-display"></span>
            </div>
        </div>
        <button id="close-settings-drawer-btn" class="close-drawer-btn" title="Close Settings">
            <svg viewBox="0 0 24 24">
                <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>
            </svg>
        </button>
    </div>
</div>

<div class="dropdown-menu" id="play-dropdown-menu">
    <button class="dropdown-item" id="shuffle-btn">
        <svg viewBox="0 0 24 24">
            <path d="M10.59 9.17 5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"></path>
        </svg>
        <span>Shuffle</span>
    </button>
    <button class="dropdown-item" id="loop-btn">
        <svg viewBox="0 0 24 24">
            <path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"></path>
        </svg>
        <span>Loop</span>
    </button>
</div>
<div class="dropdown-menu" id="file-dropdown-menu">
    <button class="dropdown-item" id="show-file-btn">
        <svg viewBox="0 0 24 24">
            <path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V6h5.17l2 2H20v10z"></path>
        </svg>
        <span>Show in Folder</span>
    </button>
    <button class="dropdown-item" id="copy-path-btn">
        <svg viewBox="0 0 24 24">
            <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path>
        </svg>
        <span>Copy File Path</span>
    </button>
</div>
<div class="dropdown-menu" id="lyrics-dropdown-menu">
    <button class="dropdown-item" id="toggle-lyrics-section-btn">
        <svg viewBox="0 0 24 24">
            <path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path>
        </svg>
        <span>Show/Hide Lyrics</span>
    </button>
    <button class="dropdown-item" id="refetch-lyrics-btn">
        <svg viewBox="0 0 24 24">
            <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"></path>
        </svg>
        <span>Refetch Lyrics</span>
    </button>
</div>
<div class="dropdown-menu" id="app-dropdown-menu">
    <button class="dropdown-item" id="light-mode-btn">
        <svg viewBox="0 0 24 24">
            <path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"></path>
        </svg>
        <span>Toggle Light Mode</span>
    </button>
    <button class="dropdown-item" id="orientation-btn">
        <svg viewBox="0 0 24 24">
            <path d="M16.48 2.52c3.27 1.55 5.61 4.72 5.97 8.48h-2.02c-.33-2.88-2.20-5.43-4.58-6.75l1.63-1.73zM2.52 16.48C4.07 19.75 7.24 22.09 11 22.45v-2.02c-2.88-.33-5.43-2.2-6.75-4.58l-1.73 1.63zM7.55 4.03l-1.63 1.73C3.05 7.24.71 10.41 1.07 14.17h2.02c-.33-2.88 2.2-5.43 4.58-6.75L7.55 4.03zM16.48 21.48l1.73-1.63c2.82-2.82 3.25-7.01 1.1-10.42h-2.02c1.78 2.53 1.48 5.92-1.1 8.5L16.48 21.48z"></path>
        </svg>
        <span>Change Orientation</span>
    </button>
    <button class="dropdown-item" id="settings-transparency-btn">
        <svg viewBox="0 0 24 24">
            <path d="M20 4h-4L12.71.71c-.38-.38-1.02-.38-1.41 0L8 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM12 6c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0 8c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"></path>
        </svg>
        <span>Transparency...</span>
    </button>

    <hr class="dropdown-divider">

    <button class="dropdown-item" id="go-to-github-btn">
        <svg viewBox="0 0 24 24">
            <path d="M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2.2c-3.3.7-4-1.6-4-1.6-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.1.1 1.7 1.1 1.7 1.1.9 1.6 2.4 1.2 3 .9.1-.7.4-1.2.8-1.4-2.3-.3-4.7-1.1-4.7-5.1 0-1.1.4-2 1.1-2.8-.1-.3-.5-1.3.1-2.7 0 0 .9-.3 2.8 1.1.8-.2 1.7-.3 2.5-.3s1.7.1 2.5.3c2-.1 2.8-1.1 2.8-1.1.6 1.4.2 2.5.1 2.7.7.7 1.1 1.6 1.1 2.8 0 4-2.4 4.8-4.7 5.1.4.3.8.9.8 1.8v2.6c0 .3.2.7.8.6A12 12 0 0 0 12 .3z"></path>
        </svg>
        <span>Go to GitHub</span>
    </button>
    <button class="dropdown-item" id="show-version-btn">
        <svg viewBox="0 0 24 24">
            <path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path>
        </svg>
        <span>Show Version...</span>
    </button>
</div>

<script src="../assets/vendor/howler.core.min.js"></script>
<script src="renderer.js"></script>
</body>
</html>